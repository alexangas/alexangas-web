trigger:
  - master

variables:
  npm_config_cache: $(Pipeline.Workspace)/.npm

jobs:
  - job: Build
    timeoutInMinutes: 5
    cancelTimeoutInMinutes: 1
    pool:
      vmImage: 'ubuntu-latest'
    steps:
      - template: ./_build.yml

  - job: UnitTests
    timeoutInMinutes: 5
    cancelTimeoutInMinutes: 1
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - template: ./_unit-tests.yml

  - job: e2eTests
    timeoutInMinutes: 10
    cancelTimeoutInMinutes: 1
    pool:
      vmImage: 'ubuntu-latest'
    steps:
    - template: ./_e2e-tests.yml
